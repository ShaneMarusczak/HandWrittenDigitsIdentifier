var $jscomp={scope:{}};$jscomp.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(d,f,g){if(g.get||g.set)throw new TypeError("ES3 does not support getters and setters.");d!=Array.prototype&&d!=Object.prototype&&(d[f]=g.value)};$jscomp.getGlobal=function(d){return"undefined"!=typeof window&&window===d?d:"undefined"!=typeof global&&null!=global?global:d};$jscomp.global=$jscomp.getGlobal(this);$jscomp.SYMBOL_PREFIX="jscomp_symbol_";
$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.symbolCounter_=0;$jscomp.Symbol=function(d){return $jscomp.SYMBOL_PREFIX+(d||"")+$jscomp.symbolCounter_++};
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var d=$jscomp.global.Symbol.iterator;d||(d=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[d]&&$jscomp.defineProperty(Array.prototype,d,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};$jscomp.arrayIterator=function(d){var f=0;return $jscomp.iteratorPrototype(function(){return f<d.length?{done:!1,value:d[f++]}:{done:!0}})};
$jscomp.iteratorPrototype=function(d){$jscomp.initSymbolIterator();d={next:d};d[$jscomp.global.Symbol.iterator]=function(){return this};return d};$jscomp.makeIterator=function(d){$jscomp.initSymbolIterator();$jscomp.initSymbol();$jscomp.initSymbolIterator();var f=d[Symbol.iterator];return f?f.call(d):$jscomp.arrayIterator(d)};
(function(){function d(b){l=void 0===b.buttons?1===b.which:1===b.buttons}function f(b){return[b.id.split("-")[1],b.id.split("-")[2]]}function g(b,c){return 0<=b&&28>b&&0<=c&&28>c}function q(){document.getElementById("loadingAnimation").classList.remove("hidden");for(var b=0;14>b;b++)r();for(b=0;14>b;b++)t();for(var b=[],c=0;28>c;c++)for(var a=0;28>a;a++)b.push([e[a][c].greyScaleValue]);b="https://shnpln252.pythonanywhere.com/digits?digits="+JSON.stringify(b);fetch(b,{method:"get",mode:"cors"}).then(function(a){return a.json()}).then(u)}
function t(){for(var b,c,a=!1,d=!1,h=0;28>h;h++){for(var f=0;28>f;f++)if(0<e[f][h].greyScaleValue){b=h;a=!0;break}if(a)break}for(a=27;0<=a;a--){for(h=27;0<=h;h--)if(0<e[h][a].greyScaleValue){c=28-a;d=!0;break}if(d)break}b!==c&&(b>c&&m(-1),b<c&&m(1))}function r(){for(var b,c,a=0;28>a;a++)if(e[a].some(function(a){return 0<a.greyScaleValue})){b=a;break}for(a=27;0<=a;a--)if(e[a].some(function(a){return 0<a.greyScaleValue})){c=28-a;break}b!==c&&(b>c&&n(-1),b<c&&n(1))}function p(){for(var b=[],c=0;28>c;c++)for(var a=
0;28>a;a++)0<e[c][a].greyScaleValue&&b.push(e[c][a]);return b}function n(b){var c=p();-1===b?c.forEach(function(a){g(a.x+b,a.y)&&(e[a.x+b][a.y].greyScaleValue=a.greyScaleValue,e[a.x+b][a.y].setBackGround());a.greyScaleValue=0;a.resetBackGround()}):c.slice().reverse().forEach(function(a){g(a.x+b,a.y)&&(e[a.x+b][a.y].greyScaleValue=a.greyScaleValue,e[a.x+b][a.y].setBackGround());a.greyScaleValue=0;a.resetBackGround()})}function m(b){var c=p();-1===b?c.forEach(function(a){g(a.x,a.y+b)&&(e[a.x][a.y+b].greyScaleValue=
a.greyScaleValue,e[a.x][a.y+b].setBackGround());a.greyScaleValue=0;a.resetBackGround()}):c.slice().reverse().forEach(function(a){g(a.x,a.y+b)&&(e[a.x][a.y+b].greyScaleValue=a.greyScaleValue,e[a.x][a.y+b].setBackGround());a.greyScaleValue=0;a.resetBackGround()})}function u(b){var c=[0,0];b.forEach(function(a,b){a>c[0]&&(c[0]=a,c[1]=b)});var a=[0,0];b.forEach(function(b,d){b>a[0]&&b!==c[0]&&(a[0]=b,a[1]=d)});document.getElementById("loadingAnimation").classList.add("hidden");70>100*c[0]?(document.getElementById("guess").textContent=
"",document.getElementById("guessConfidence").textContent="Confidence too low to guess"):(90<100*c[0]?(document.getElementById("guess").textContent=c[1],document.getElementById("guessConfidence").textContent="High Confidence"):(document.getElementById("guess").textContent=c[1],document.getElementById("guessConfidence").textContent="Low Confidence"),50<100*a[0]&&(document.getElementById("guess").textContent=c[1]+" or "+a[1]))}function v(b){if(l){var c=$jscomp.makeIterator(f(b.target));b=c.next().value;
c=c.next().value;e[b][c].increaseGreyScale(1);e[b][c].neighbors.forEach(function(a){e[a[0]][a[1]].increaseGreyScale(.7)})}}function w(){document.getElementById("guess").textContent="";document.getElementById("guessConfidence").textContent="";for(var b=0;28>b;b++)for(var c=0;28>c;c++)e[c][b].greyScaleValue=0,document.getElementById("cell-"+b+"-"+c).style.backgroundColor="rgb(201, 201, 201, 0.4)"}var l=!1,e=[],x=document.getElementById("gameBoard_UI"),k=function(b,c){this.x=b;this.y=c;this.greyScaleValue=
0;this.neighbors=[]};k.prototype.increaseGreyScale=function(b){this.greyScaleValue+=b;1<this.greyScaleValue&&(this.greyScaleValue=1);this.setBackGround()};k.prototype.setBackGround=function(){var b="rgb(30, 30, 30,"+this.greyScaleValue+")";document.getElementById("cell-"+this.x+"-"+this.y).style.backgroundColor=b};k.prototype.resetBackGround=function(){document.getElementById("cell-"+this.x+"-"+this.y).style.backgroundColor="rgb(201, 201, 201, 0.4)"};k.prototype.setNeighbors=function(){for(var b=
[-1,0,1],c=$jscomp.makeIterator(b),a=c.next();!a.done;a=c.next())for(var a=a.value,d=$jscomp.makeIterator(b),e=d.next();!e.done;e=d.next())e=e.value,!g(this.x+a,this.y+e)||0===a&&0===e||this.neighbors.push([this.x+a,this.y+e])};(function(){document.getElementById("start").addEventListener("click",q);document.getElementById("clear").addEventListener("click",w);document.body.onmousedown=d;document.body.onmousemove=d;document.body.onmouseup=d;for(var b=0;28>b;b++){e.push([]);var c=document.createElement("div");
c.id="col-"+b;c.classList.add("col");x.appendChild(c);c.draggable=!1;c.ondragstart=function(){return!1};for(var a=0;28>a;a++){var f=new k(b,a);e[b].push(f);f.setNeighbors();f=document.createElement("div");f.id="cell-"+b+"-"+a;f.classList.add("cell");c.appendChild(f);f.addEventListener("mouseover",v)}}})()})();
